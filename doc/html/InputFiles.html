<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis Software Package: Format of input files for all utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis Software Package
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('InputFiles.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Format of input files for all utilities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All the utilities read information about studied system from <a href="https://github.com/olenz/vtfplugin/wiki/VTF-format">vsf/vcf files</a> (formatted as described below) and <code>FIELD</code> file (input file for <a href="http://www.scd.stfc.ac.uk//research/app/ccg/software/DL_MESO/40694.aspx">DL_MESO simulation package</a>). Coordinates are read from a <code>.vcf</code> file (with either <a class="el" href="InputFiles.html#OrderedCoorFile">ordered timesteps</a> or <a class="el" href="InputFiles.html#IndexedCoorFile">indexed timesteps</a>). Structure of the system (names and numbers of beads and molecules, etc.) is read from <code>FIELD</code> file and <code>.vsf</code> files, but only bead types that are in the above mentioned <code>.vcf</code> file are considered.</p>
<p><a class="el" href="InputFiles.html#AggregateFile">Aggregate file</a> is of my own format and is used by every utility doing calculation on whole aggregates (as opposed to calculations on individual molecules).</p>
<h1><a class="anchor" id="StructureFile"></a>
Structure file </h1>
<p>The software package is designed with file <code>dl_meso.vsf</code> in mind, which is generated by the <code>traject</code> utility provided in DL_MESO software (and modified by me). Generally, the utilities are tested only against files generated by <code>traject</code>, but other <code>.vsf</code> files (such as the one generated by <code>TransformVsf</code> utility) should work fine, if formatted according to the following guidelines.</p>
<p>The first mandatory line specifies default bead type which means all atom lines for beads of this type are unnecessary (provided those beads are not in a molecule). All atom lines in <code>dl_meso.vsf</code> specify VDW radius and atom name. If an atom is in a molecule, its molecule number is appended to the atom line as <code>resid &lt;id&gt;</code>: </p><blockquote class="doxtable">
<p><code>atom default radius 1.000000 name &lt;name&gt;</code></p>
<p><code>...</code></p>
<p><code>atom &lt;id&gt; radius 1.000000 name &lt;name&gt; resid &lt;id&gt;</code></p>
<p><code>...</code> </p>
</blockquote>
<p>Only the bead number and name are read, so both VDW radius and molecule number are not strictly necessary. Short version of <code>atom</code> and <code>name</code> keywords (<code>a</code> and <code>n</code> respectively) can be used. Other keywords can be included, because they will be ignored. No comments are allowed in <code>.vsf</code> file.</p>
<p>Bond lines of <code>.vsf</code> files are not read and are therefore irrelevant to all the utilities.</p>
<h1><a class="anchor" id="BondFile"></a>
Optional bond file </h1>
<p>Bonds for each molecule type are specified in <code>FIELD</code>, but they can be read from a different file if required.</p>
<p>The file with molecule bonds must contain name of the molecule type (same as in <code>FIELD</code>) followed by number of bonds on the next line and on every subsequent line two index numbers corresponding to the two connected beads (bead numbers start from one and are ordered according to beads in <code>FIELD</code> section for the given molecule). The bead numbers do not have to be sorted in any way and no blank lines should be present.</p>
<p>Example of bond file:</p>
<blockquote class="doxtable">
<p><code>triangle</code></p>
<p><code>3</code></p>
<p><code>1 2 possible</code></p>
<p><code>3 1</code></p>
<p><code>2 3 comment</code> </p>
</blockquote>
<p>This file must be used for molecule types that have only some of its beads in <code>.vcf</code> file with indexed timesteps. In such a case, the bead indices correspond to <code>FIELD</code> as if the bead types not present in <code>.vcf</code> are not present <code>FIELD</code>.</p>
<p>Example of the relevant part of <code>FIELD</code>:</p>
<blockquote class="doxtable">
<p><code>...</code></p>
<p><code>beads 3</code></p>
<p><code>A &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>B &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>A &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>bonds 3</code></p>
<p><code>harm 1 2 &lt;float&gt; &lt;float&gt;</code></p>
<p><code>harm 1 3 &lt;float&gt; &lt;float&gt;</code></p>
<p><code>harm 2 3 &lt;float&gt; &lt;float&gt;</code></p>
<p><code>finish</code> </p>
</blockquote>
<p>Assuming only bead types <code>A</code> are present in <code>.vcf</code> file, the now necessary bond file would like like this:</p>
<blockquote class="doxtable">
<p><code>name</code></p>
<p><code>1</code></p>
<p><code>1 2 possible comment</code> </p>
</blockquote>
<p>Should the bond file not be provided such case, the utilities detect no error, but will not work correctly (and may crash with segmentation fault).</p>
<p>Bond information about molecule types not present in the bond file will be read from <code>FIELD</code>.</p>
<h1><a class="anchor" id="OrderedCoorFile"></a>
Ordered coordinate file </h1>
<p>First line of <code>.vcf</code> file with ordered timestep(s) contains box size. Each timestep starts with a comment line (i.e. line starting with <code>#</code> sign), the second line contains <code>timestep</code> (or the short version, <code>t</code>) and each following line contains the coordinates of a single bead. Every bead from <code>.vsf</code> structure file must be present in each timestep.</p>
<p>Exactly one blank line must be between every two timesteps and no blank lines are allowed at the end of the file.</p>
<p>Example of ordered coordinate file:</p>
<blockquote class="doxtable">
<p><code>pbc &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code># 1</code></p>
<p><code>timestep</code></p>
<p><code>&lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>...</code> </p>
</blockquote>
<p>An ordered coordinate file is generated using <code>traject-v2_5</code>, but <code>traject-v2_6</code> produces indexed coordinate file (due to the way the original <code>traject</code> utility prints coordinates).</p>
<h1><a class="anchor" id="IndexedCoorFile"></a>
Indexed coordinate file </h1>
<p>Unlike the <code>.vcf</code> file with ordered timesteps, the <code>.vcf</code> file with indexed timestep does not contain coordinates for every bead. Only beads of selected bead types are present and their names are written as comments at the beginning of the file (and followed by a blank line). Every bead is prepended by its index number according to the <code>.vsf</code> structure file. Keyword <code>timestep</code> (or <code>t</code>) at the beginning of every timestep is replaced by <code>indexed</code> (or its short version, <code>i</code>). The beads does not have to be ordered in any way, but the same number of beads must be in every timestep and every of given types must be present. Otherwise the file has the same format as the <code>.vcf</code> file with ordered timesteps.</p>
<p>Example of indexed coordinate file:</p>
<blockquote class="doxtable">
<p><code># name</code></p>
<p><code>...</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code>pbc &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code># 1</code></p>
<p><code>indexed</code></p>
<p><code>&lt;id&gt; &lt;float&gt; &lt;float&gt; &lt;float&gt;</code></p>
<p><code>...</code> </p>
</blockquote>
<h1><a class="anchor" id="AggregateFile"></a>
Aggregate file </h1>
<p>The aggregate file with <code>.agg</code> ending is generated using <a class="el" href="Common.html#Aggregates">Aggregates utility</a>. It contains information about the number of aggregates in the system in every simulation timestep and therefore is linked to the <code>.vcf</code> file used to calculate the aggregates. For every aggregate in each timestep there is a number and ids of molecules in that aggregate as well as a number and ids of monomeric beads near the aggregate.</p>
<p>The first line of an aggregate file contains the command used to generate it. The subsequent lines contain information on individual timesteps starting with <code>Step</code> keyword, followed by the number of aggregates in the timestep and followed by individual aggregates. Every aggregate is spread over two lines - the first one contains the number of molecules in the aggregate followed by their ids (according to a corresponding <code>.vsf</code> structure file) and the second line contains the number of monomeric beads in the aggregate followed by its ids (again, the ids correspond to the <code>.vsf</code> file). The line with monomeric beads is indented for easier reading.</p>
<p>Example of an aggregate file:</p>
<blockquote class="doxtable">
<p><code>&lt;command used to generate it&gt;</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code>Step: 1</code></p>
<p><code>&lt;number of aggregates in step 1&gt;</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code>2 : 1 34</code></p>
<p><code>3 : 230 40000 41003</code></p>
<p><code>&lt;number of molecules in the second aggregate&gt; : &lt;molecule ids&gt;</code></p>
<p><code>&lt;number of monomeric beads in the aggregate : &lt;bead ids&gt;</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code>Step: 2</code></p>
<p><code>...</code></p>
<p><code>&lt;blank line&gt;</code></p>
<p><code>Last Step: &lt;number&gt;</code></p>
</blockquote>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Oct 21 2017 10:40:58 for Analysis Software Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
